parameters:
    barcodebucket_main.cache.class:                 Zend\Cache\Storage\Adapter\Filesystem
    barcodebucket_main.cache.factory.class:         Barcodebucket\Bundle\MainBundle\Cache\CacheFactory
    barcodebucket_main.controller.barcode.class:    Barcodebucket\Bundle\MainBundle\Controller\BarcodeController
    barcodebucket_main.controller.webinforiv.class: Barcodebucket\Bundle\MainBundle\Controller\WebinforivController
    barcodebucket_main.generator.uuid.class:        Barcodebucket\Bundle\MainBundle\UUID\RhumsaaUUIDGenerator
    barcodebucket_main.goutte.webinforiv.class:     Goutte\Client
    barcodebucket_main.extractor.webinforiv.class:  WebinforivScraper\Scraper
    barcodebucket_main.repository.barcode.class:    Barcodebucket\Bundle\MainBundle\Entity\BarcodeRepository
    barcodebucket_main.repository.user.class:       Barcodebucket\Bundle\MainBundle\Entity\UserRepository
    barcodebucket_main.scraper.webinforiv.class:    WebinforivScraper\Scraper
    barcodebucket_main.service.barcode.class:       Barcodebucket\Bundle\MainBundle\Service\BarcodeService
    barcodebucket_main.validator.barcode.class:     Zend\Validator\Barcode

services:
    barcodebucket_main.validator.barcode:
        class: %barcodebucket_main.validator.barcode.class%
        arguments:
            - 'GTIN14'

    barcodebucket_main.cache.factory:
        class: %barcodebucket_main.cache.factory.class%

    barcodebucket_main.cache:
        class:           %barcodebucket_main.cache.class%
        factory_service: barcodebucket_main.cache.factory
        actory_method:   get

    barcodebucket_main.generator.uuid:
        class: %barcodebucket_main.generator.uuid.class%

    barcodebucket_main.service.barcode:
        class: %barcodebucket_main.service.barcode.class%
        arguments:
            - @event_dispatcher
            - @database_connection
            - @barcodebucket_main.generator.uuid

    barcodebucket_main.controller.barcode:
        class: %barcodebucket_main.controller.barcode.class%
        arguments:
            - @router
            - @barcodebucket_main.service.barcode
            - @barcodebucket_main.validator.barcode

    barcodebucket_main.extractor.webinforiv:
        class: %barcodebucket_main.extractor.webinforiv.class%

    barcodebucket_main.goutte.webinforiv:
        class: %barcodebucket_main.goutte.webinforiv.class%

    barcodebucket_main.scraper.webinforiv:
        class: %barcodebucket_main.scraper.webinforiv.class%
        arguments:
            - @barcodebucket_main.goutte.webinforiv

    barcodebucket_main.controller.webinforiv:
        class: %barcodebucket_main.controller.webinforiv.class%
        arguments:
            - @barcodebucket_main.scraper.webinforiv
            - @barcodebucket_main.service.barcode
            - @barcodebucket_main.validator.barcode
            - @barcodebucket_main.cache

    barcodebucket_main.repository.barcode:
        class: %barcodebucket_main.repository.barcode.class%
        factory_service: doctrine.orm.entity_manager
        factory_method: getRepository
        arguments: ['Barcodebucket\\Bundle\\MainBundle\\Entity\\Barcode']

    barcodebucket_main.repository.user:
        class: %barcodebucket_main.repository.user.class%
        factory_service: doctrine.orm.entity_manager
        factory_method: getRepository
        arguments: ['Barcodebucket\\Bundle\\MainBundle\\Entity\\User']
